@tailwind base;
@tailwind components;
@tailwind utilities;

/* Warm dusk palette with soft grid + noise overlay */
:root {
  color-scheme: dark;
  --bg-0: #000000;
  --bg-1: #000000;
  --header-bg: #000000;
  --ink-0: #e9edf6;
  --ink-1: #a6afc4;
  --accent-0: #6ad7ff;
  --accent-1: #f7b77c;
}

html[data-theme="light"] {
  color-scheme: light;
  --bg-0: #f8fafc;
  --bg-1: #f8fafc;
  --header-bg: #f8fafc;
  --ink-0: #111827;
  --ink-1: #4b5563;
  --accent-0: #2563eb;
  --accent-1: #f97316;
}

html, body { height: 100%; }

body {
  @apply font-sans;
  background-color: var(--bg-0);
  color: var(--ink-0);
  background-image: none;
  background-attachment: fixed;
}

a { color: var(--ink-0); }
::selection { background: rgba(106, 215, 255, 0.35); }

html[data-theme="light"] body {
  background-image: none;
}

h1, h2, h3, h4 {
  font-family: var(--font-sora), var(--font-manrope), ui-sans-serif, system-ui, sans-serif;
}

@layer components {
  .glass {
    @apply rounded-[28px] border border-white/10 bg-white/[0.04] shadow-soft backdrop-blur;
  }
  .chip {
    @apply inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-zinc-200;
  }
  .role-glow {
    background:
      linear-gradient(90deg, rgba(106, 215, 255, 0.9), rgba(247, 183, 124, 0.92));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .hover-ring {
    position: relative;
    overflow: hidden;
  }
  .hover-ring::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    pointer-events: none;
    background: radial-gradient(
      280px circle at var(--mx, -200px) var(--my, -200px),
      rgba(106, 215, 255, 0.25),
      transparent 55%
    );
    opacity: 0;
    transition: opacity 180ms ease;
  }
  .hover-ring:hover::before {
    opacity: 1;
  }
}

/* noise overlay */
.noise {
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: 0;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size: 220px 220px;
}

@keyframes sheen-slide {
  0% { transform: translateX(0%) skewX(-16deg); opacity: 0; }
  15% { opacity: 0.35; }
  40% { opacity: 0.12; }
  100% { transform: translateX(360%) skewX(-16deg); opacity: 0; }
}

html[data-theme="light"] .noise {
  opacity: 0;
  mix-blend-mode: multiply;
}

@keyframes orb-float-1 {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(18px, -20px, 0) scale(1.06); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}

@keyframes orb-float-2 {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(-24px, 14px, 0) scale(0.97); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}

@keyframes orb-float-3 {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(12px, 20px, 0) scale(1.04); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}

.anime-photo {
  filter: contrast(1.15) saturate(1.28) hue-rotate(-10deg);
}

.anime-tint {
  background:
    radial-gradient(120px 90px at 75% 22%, rgba(250, 162, 108, 0.26), transparent 65%),
    linear-gradient(165deg, rgba(82, 168, 255, 0.18), rgba(20, 24, 54, 0.32));
  mix-blend-mode: screen;
}

.anime-lines {
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.055) 0px,
      rgba(255, 255, 255, 0.055) 1px,
      transparent 1px,
      transparent 4px
    );
  opacity: 0.3;
}

.anime-sheen {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.38), transparent);
  animation: sheen-slide 4.2s ease-in-out infinite;
}

.flip-scene {
  perspective: 1200px;
  contain: layout paint;
}

.flip-inner {
  transform-style: preserve-3d;
  transform-origin: center center;
  transition: transform 560ms cubic-bezier(0.2, 0.65, 0.2, 1);
  will-change: transform;
}

.flip-scene:hover .flip-inner,
.flip-scene:focus-visible .flip-inner {
  transform: rotateY(180deg);
}

.flip-face {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.flip-back {
  transform: rotateY(180deg);
}

.ambient-orbs {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 0;
  display: none;
}

.ambient-orb {
  position: absolute;
  border-radius: 9999px;
  filter: blur(36px);
  opacity: 0.2;
}

.orb-1 {
  width: 240px;
  height: 240px;
  top: 14%;
  left: 9%;
  background: radial-gradient(circle, rgba(106, 215, 255, 0.6), rgba(106, 215, 255, 0.05));
  animation: orb-float-1 9s ease-in-out infinite;
}

.orb-2 {
  width: 280px;
  height: 280px;
  top: 58%;
  right: 8%;
  background: radial-gradient(circle, rgba(247, 183, 124, 0.45), rgba(247, 183, 124, 0.06));
  animation: orb-float-2 10s ease-in-out infinite;
}

.orb-3 {
  width: 220px;
  height: 220px;
  bottom: 8%;
  left: 34%;
  background: radial-gradient(circle, rgba(140, 150, 255, 0.45), rgba(140, 150, 255, 0.06));
  animation: orb-float-3 11s ease-in-out infinite;
}

.glass-fancy {
  position: relative;
  overflow: hidden;
}

.glass-fancy::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(130deg, rgba(106, 215, 255, 0.12), transparent 40%, rgba(247, 183, 124, 0.12));
  opacity: 0;
  transition: opacity 240ms ease;
}

.glass-fancy:hover::after {
  opacity: 1;
}

html[data-theme="light"] .glass {
  border-color: rgba(17, 24, 39, 0.12);
  background: rgba(255, 255, 255, 0.72);
}

html[data-theme="light"] .chip {
  border-color: rgba(17, 24, 39, 0.12);
  background: rgba(17, 24, 39, 0.05);
  color: #374151;
}

/* Global utility remap for light mode so existing dark-oriented classes stay readable */
html[data-theme="light"] .text-zinc-50,
html[data-theme="light"] .text-zinc-100 {
  color: #0f172a;
}

html[data-theme="light"] .text-zinc-200 {
  color: #1f2937;
}

html[data-theme="light"] .text-zinc-300 {
  color: #374151;
}

html[data-theme="light"] .text-zinc-400 {
  color: #6b7280;
}

html[data-theme="light"] [class~="bg-black/20"] {
  background-color: rgba(15, 23, 42, 0.06);
}

html[data-theme="light"] [class~="bg-black/25"] {
  background-color: rgba(15, 23, 42, 0.08);
}

html[data-theme="light"] [class~="bg-black/30"] {
  background-color: rgba(15, 23, 42, 0.1);
}

html[data-theme="light"] [class~="bg-black/45"] {
  background-color: rgba(15, 23, 42, 0.2);
}

html[data-theme="light"] [class~="bg-white/5"],
html[data-theme="light"] [class~="bg-white/[0.02]"],
html[data-theme="light"] [class~="bg-white/[0.03]"],
html[data-theme="light"] [class~="bg-white/[0.04]"] {
  background-color: rgba(15, 23, 42, 0.04);
}

html[data-theme="light"] [class~="bg-white/8"],
html[data-theme="light"] [class~="bg-white/10"],
html[data-theme="light"] [class~="bg-white/[0.05]"],
html[data-theme="light"] [class~="bg-white/[0.06]"] {
  background-color: rgba(15, 23, 42, 0.08);
}

html[data-theme="light"] [class~="bg-white/15"],
html[data-theme="light"] [class~="bg-white/[0.08]"] {
  background-color: rgba(15, 23, 42, 0.12);
}

html[data-theme="light"] [class~="border-white/5"] {
  border-color: rgba(15, 23, 42, 0.08);
}

html[data-theme="light"] [class~="border-white/10"] {
  border-color: rgba(15, 23, 42, 0.12);
}

html[data-theme="light"] [class~="border-white/15"] {
  border-color: rgba(15, 23, 42, 0.16);
}

html[data-theme="light"] [class~="border-white/20"] {
  border-color: rgba(15, 23, 42, 0.2);
}

html[data-theme="light"] [class~="border-white/30"] {
  border-color: rgba(15, 23, 42, 0.28);
}

html[data-theme="light"] [class~="ring-white/5"] {
  --tw-ring-color: rgba(15, 23, 42, 0.08);
}

html[data-theme="light"] [class~="ring-white/10"] {
  --tw-ring-color: rgba(15, 23, 42, 0.12);
}

html[data-theme="light"] [class~="ring-white/15"] {
  --tw-ring-color: rgba(15, 23, 42, 0.16);
}

html[data-theme="light"] [class~="ring-white/20"] {
  --tw-ring-color: rgba(15, 23, 42, 0.2);
}

.icon-control {
  position: relative;
  display: inline-flex;
  height: 2.65rem;
  width: 2.65rem;
  align-items: center;
  justify-content: center;
  color: var(--ink-0);
  transition: transform 180ms ease, color 180ms ease, filter 220ms ease;
}

.icon-control::after {
  content: "";
  position: absolute;
  inset: 0.3rem;
  border-radius: 9999px;
  opacity: 0;
  transition: opacity 220ms ease;
  pointer-events: none;
}

.icon-control:hover {
  transform: translateY(-1px) scale(1.08);
  filter: saturate(1.12);
}

.icon-control:focus-visible {
  outline: none;
  transform: translateY(-1px) scale(1.08);
}

.icon-control:focus-visible::after {
  opacity: 1;
}

.icon-control-theme:hover {
  color: #f7b77c;
}

.icon-control-theme::after {
  box-shadow: 0 0 0 2px rgba(247, 183, 124, 0.32), 0 0 22px rgba(247, 183, 124, 0.24);
}

.icon-control-music:hover {
  color: #1DB954;
}

.icon-control-music::after {
  box-shadow: 0 0 0 2px rgba(29, 185, 84, 0.35), 0 0 24px rgba(29, 185, 84, 0.22);
}

.icon-control-music-active,
.icon-control-music-active:hover {
  color: #1DB954;
}

.music-playing {
  animation: music-bob 2s ease-in-out infinite;
}

@keyframes music-bob {
  0% { transform: translateY(0) scale(1.08); }
  50% { transform: translateY(-1px) scale(1.12); }
  100% { transform: translateY(0) scale(1.08); }
}

@keyframes wave-hand {
  0% { transform: rotate(0deg); }
  15% { transform: rotate(18deg); }
  35% { transform: rotate(-8deg); }
  55% { transform: rotate(14deg); }
  75% { transform: rotate(-5deg); }
  100% { transform: rotate(0deg); }
}
